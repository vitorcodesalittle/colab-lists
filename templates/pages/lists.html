<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <meta content="IE=edge" http-equiv="X-UA-Compatible">

    <title>Lists</title>
    <meta name="description" content="Manage lists">
    <link href="/static/output.css" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Kolker+Brush&display=swap" rel="stylesheet">

    <link href="https://fonts.googleapis.com/css2?family=Gowun+Batang:wght@400;700&display=swap" rel="stylesheet">
    <script src="https://unpkg.com/htmx.org@2.0.2"
        integrity="sha384-Y7hw+L/jvKeWIRRkqWYfPcvVxHzVzn5REgzbawhxAuQGwX1XWe70vji+VSeHOThJ"
        crossorigin="anonymous"></script>
    <script src="https://unpkg.com/htmx-ext-ws@2.0.1/ws.js"></script>
    <script>
        document.addEventListener('htmx:wsBeforeSend', (event) => {
            console.log(event);
            // Add the event 
        })
    </script>
</head>

<body class="text-brand-800">
    {{ template "authnav" }}
    <div class="px-4">
        <h2>Lists</h2>
        <ul>
            {{ range .Lists }}
            <li class="w-fit">
                <a class="flex flex-row space-x-2 items-center" href="/lists/{{ .Id }}">
                    <p>{{ .Title }}</p>
                    <span>{{ .Description }}</span>
                </a>
            </li>
            {{ end }}
        </ul>
        <span>You have a total of {{ .Lists | len }} lists</span>
        <h2>Create a new list</h2>
        <form method="post" action="/lists" class="flex flex-col space-y-1">
            <label for="title">Title</label>
            <input type="text" id="title" name="title" required>
            <label for="title">Description</label>
            <input type="text" id="description" name="description">
            <button type="submit" class="mr-auto ml-auto">Create</button>
        </form>
    </div>

</body>

</html>
